<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Plantilla personalizada para reportes con NCF -->
        <template id="ncf_external_layout" name="NCF External Layout">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="doc">
                    <t t-set="company" t-value="doc.company_id"/>
                    <t t-call="web.external_layout">

                        <!-- Estilos CSS personalizados -->
                        <style>
                            .ncf-layout {
                                font-family: 'Helvetica', Arial, sans-serif;
                                font-size: 12px;
                                color: #333;
                            }
                            .ncf-header {
                                border-bottom: 2px solid #2e3192;
                                margin-bottom: 20px;
                                padding-bottom: 10px;
                            }
                            .ncf-header h3 {
                                margin: 0;
                                color: #2e3192;
                                font-weight: bold;
                                font-size: 18px;
                            }
                            .ncf-company-info {
                                font-size: 12px;
                                line-height: 1.3;
                            }
                            .ncf-footer {
                                border-top: 1px solid #2e3192;
                                margin-top: 20px;
                                padding-top: 10px;
                                text-align: center;
                                font-size: 10px;
                                color: #666;
                            }
                            .ncf-document-title {
                                background-color: #2e3192;
                                color: white;
                                padding: 8px 15px;
                                margin: 20px 0 15px 0;
                                font-weight: bold;
                                text-transform: uppercase;
                            }
                            .ncf-client-info {
                                background-color: #f8f9fa;
                                padding: 15px;
                                border-left: 4px solid #2e3192;
                                margin: 15px 0;
                            }
                            .ncf-table th {
                                background-color: #2e3192;
                                color: white;
                                padding: 8px;
                                text-align: center;
                                font-weight: bold;
                            }
                            .ncf-table td {
                                padding: 6px;
                                border-bottom: 1px solid #dee2e6;
                            }
                            .ncf-totals {
                                background-color: #f8f9fa;
                                padding: 15px;
                                border: 1px solid #dee2e6;
                                margin-top: 20px;
                            }
                            .ncf-total-line {
                                display: flex;
                                justify-content: space-between;
                                margin: 5px 0;
                            }
                            .ncf-total-final {
                                background-color: #2e3192;
                                color: white;
                                padding: 10px;
                                font-weight: bold;
                                font-size: 16px;
                            }
                        </style>

                        <div class="page ncf-layout">

                            <!-- Encabezado con logo y datos de la empresa -->
                            <div class="ncf-header">
                                <div class="row">
                                    <div class="col-3">
                                        <img t-if="company.logo"
                                             t-att-src="image_data_uri(company.logo)"
                                             style="max-height: 60px; max-width: 150px;"
                                             alt="Logo de la empresa"/>
                                    </div>
                                    <div class="col-9 text-right">
                                        <h3 t-field="company.name"/>
                                        <div class="ncf-company-info" t-if="company.street">
                                            <span t-field="company.street"/>
                                            <t t-if="company.city">, <span t-field="company.city"/></t>
                                            <t t-if="company.state_id">, <span t-field="company.state_id.name"/></t>
                                        </div>
                                        <div class="ncf-company-info">
                                            <t t-if="company.phone">ðŸ“ž <span t-field="company.phone"/></t>
                                            <t t-if="company.email"> | âœ‰ <span t-field="company.email"/></t>
                                        </div>
                                        <div t-if="company.vat" class="ncf-company-info">
                                            RNC: <span t-field="company.vat"/>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Contenido del documento -->
                            <t t-raw="0"/>

                            <!-- Footer personalizado -->
                            <div class="ncf-footer">
                                <t t-if="company.report_footer">
                                    <span t-field="company.report_footer"/>
                                </t>
                                <t t-else="">
                                    Este documento ha sido generado electrÃ³nicamente y es vÃ¡lido sin firma.
                                </t>
                            </div>

                        </div>
                    </t>
                </t>
            </t>
        </template>
    </data>
</odoo>